# MySql Expression Value

By default, the ``key-value`` pair data for the where function just produce the very simple ``left = right`` predication. If want to apply the advanced sql feature like functions or other comparision operation, you can using the ``~`` raw expression, which in syntax like ``~expression``. So that the ``key-value`` pair data will not simply produce a ``left = right`` predicated expression.

For instance example, a simple ``left = right`` predication expression can be generated by:

```php
# left = '> right'
["left" => "> right"]
```

But we did not expected a ``left = right`` predication from the above example actually. For produce a ``left > right`` predication, then we could using the ``~`` raw expression syntax:

```php
# left > right
["left" => "~ > right"]
```

Using a helper function which its name called ``gt`` is also can apply for produce a ``left > right`` predication expression:

```php
# left > right
["left" => gt("right")]
```

## Helper functions

Here are some helper function for generates the SQL query expression more easily, the helper function is works based on the ``~`` raw expression string formatter:

| function &amp; usage    | expression                | type | description                                       |
|-------------------------|---------------------------|------|---------------------------------------------------|
| ``lt($value)``          | < '$value'                | 1    | left is less than the given value                 |
| ``lt_eq($value)``       | <= '$value'               | 1    | left is less than or equals to the given value    |
| ``not_eq($value)``      | <> '$value'               | 1    | left is not equals to the given value             |
| ``eq($value)``          | = '$value'                | 1    | left is equals to the given value                 |
| ``gt($value)``          | > '$value'                | 1    | left is greater than the given value              |
| ``gt_eq($value)``       | >= '$value'               | 1    | left is greater than or equals to the given value |
| ``between($a, $b)``     | BETWEEN '$a' AND '$b'     | 3    | left is in the range of from a to b               |
| ``in($values)``         | IN (...)                  | 4    | left is one of the element in given list          |
| ``like($value)``        | LIKE '$value'             | 2    | left is match with the given string pattern       |
| ``not_between($a, $b)`` | NOT BETWEEN '$a' AND '$b' | 3    | left is not in the range of from a to b           |
| ``not_in($values)``     | NOT IN (...)              | 4    | left is not one of the element in given list      |
| ``not_like($value)``    | NOT LIKE '$value'         | 2    | left is not match with the given string pattern   |

> NOTE for value type:
>
> 1. string or number
> 2. string with wildcard pattern
> 3. number
> 4. string or number array

### Using the helper function

```php
<?php

# SELECT * FROM `database`.`tableName` WHERE id IN (1,2,3,4,5) AND name LIKE '123%' LIMIT 1;
$query = new Table(["database" => "tableName"])
    ->where([
        "id"   => in([1,2,3,4,5]), 
        "name" => like("123%")
    ])
    ->find();
```

As we have mention above, the helper function is works based on the ``~`` raw expression syntax, so that the example code show above is equivalent to the code below:

```php
# SELECT * FROM `database`.`tableName` WHERE id IN (1,2,3,4,5) AND name LIKE '123%' LIMIT 1;
$query = new Table(["database" => "tableName"])
    ->where([
        "id"   => "~IN (1,2,3,4,5)", 
        "name" => "~LIKE '123%'"
    ])
    ->find();
```